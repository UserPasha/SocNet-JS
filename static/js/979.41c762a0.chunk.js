"use strict";(self.webpackChunksamurai=self.webpackChunksamurai||[]).push([[979],{6979:function(e,r,n){n.r(r),n.d(r,{UsersContainer:function(){return F},default:function(){return z}});var s=n(5671),o=n(3144),t=n(136),i=n(5716),l=n(2791),a=n(8687),u=n(5773),c="Users_wrapper__yP0U3",d=n(885),p="Pagination_pagesCount__BFpp3",f="Pagination_selected__Taa57",g=n(184),h=function(e){for(var r=e.totalUsers,n=e.currentPage,s=e.onPageHandler,o=e.pageSize,t=Math.ceil(r/o),i=[],a=1;a<=t;a++)i.push(a);var u=Math.ceil(t/o),c=(0,l.useState)(1),h=(0,d.Z)(c,2),j=h[0],x=h[1],P=(j-1)*o+1,w=j*o;return(0,g.jsxs)("div",{className:p,children:[j>1&&(0,g.jsx)("button",{onClick:function(){x(j=1),s(1)},children:"FIRST"}),j>1&&(0,g.jsx)("button",{onClick:function(){x(j-1),s(P-o)},children:"PREV"}),i.filter((function(e){return e>=P&&e<=w})).map((function(e){return(0,g.jsx)("span",{className:n===e?f:"",onClick:function(r){s(e)},children:e},e)})),u>j&&(0,g.jsx)("button",{onClick:function(){x(j+1),s(P+o)},children:"NEXT"}),u>j&&(0,g.jsx)("button",{onClick:function(){x(j=u),s(t)},children:"LAST"})]})},j=n(2208),x=n(1523),P=function(e){var r=e.user,n=e.requestToFollowIdArray,s=e.unfollowUser,o=e.followUser;return(0,g.jsxs)("div",{className:c,children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("div",{children:(0,g.jsx)(x.OL,{to:"/profile/"+r.id,children:(0,g.jsx)("img",{src:null!==r.photos.small?r.photos.small:j,alt:"profile avatar"})})}),(0,g.jsx)("div",{children:r.followed?(0,g.jsx)("button",{disabled:n.some((function(e){return e===r.id})),onClick:function(){s(r.id)},children:"Unfollow"}):(0,g.jsx)("button",{disabled:n.some((function(e){return e===r.id})),onClick:function(){o(r.id)},children:"follow"})})]}),(0,g.jsxs)("span",{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)("div",{children:r.name}),(0,g.jsx)("div",{children:r.status})]}),(0,g.jsxs)("span",{children:[(0,g.jsx)("div",{children:"user.location.country"}),(0,g.jsx)("div",{children:"user.location.city"})]})]})]})},w=function(e){var r=e.totalUsers,n=e.currentPage,s=e.onPageHandler,o=e.pageSize,t=e.users,i=e.followUser,l=e.unfollowUser,a=e.requestToFollowIdArray;return(0,g.jsxs)("div",{className:c,children:[t.map((function(e){return(0,g.jsx)(P,{user:e,requestToFollowIdArray:a,followUser:i,unfollowUser:l},e.id)})),(0,g.jsx)(h,{totalUsers:r,pageSize:o,currentPage:n,onPageHandler:s})]})},U=n(7612),v=n(1548),m=n(7781),C=function(e){return e.usersPage.users},k=function(e){return e.usersPage.pageSize},y=function(e){return e.usersPage.totalUsers},S=function(e){return e.usersPage.currentPage},T=function(e){return e.usersPage.isLoading},b=function(e){return e.usersPage.requestToFollowIdArray},F=function(e){(0,t.Z)(n,e);var r=(0,i.Z)(n);function n(){var e;(0,s.Z)(this,n);for(var o=arguments.length,t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];return(e=r.call.apply(r,[this].concat(t))).onPageHandler=function(r){e.props.getCurrentPage(r,e.props.pageSize)},e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,g.jsxs)(g.Fragment,{children:[this.props.isLoading?(0,g.jsx)(U.Z,{}):null,(0,g.jsx)(w,{totalUsers:this.props.totalUsers,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageHandler:this.onPageHandler,users:this.props.users,requestToFollowIdArray:this.props.requestToFollowIdArray,unfollowUser:this.props.unfollowUser,followUser:this.props.followUser})]})}}]),n}(l.Component),z=(0,m.qC)((0,a.$j)((function(e){return{users:C(e),pageSize:k(e),totalUsers:y(e),currentPage:S(e),isLoading:T(e),requestToFollowIdArray:b(e)}}),{setCurrentPage:u.D4,getUsers:u.Uk,getCurrentPage:u.Br,unfollowUser:u.Xn,followUser:u.V1}),v.Z)(F)}}]);
//# sourceMappingURL=979.41c762a0.chunk.js.map